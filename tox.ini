[tox]
requires =
  virtualenv<20.22.0
  tox-gh-actions
envlist =
  lint
  py{37}-django111
  py{37,38,39}-django22
  py{37,38,39,310}-django32
  py{38,39,310,311,312}-django42

[testenv]
commands =
  pytest
setenv =
  PYTHONDONTWRITEBYTECODE=1
deps =
  django111: django==1.11.*
  django22: django==2.2.*
  django32: django==3.2.*
  django42: django==4.2.*
  pytest==7.0.1
  pytest-cov==4.0.0
  pytest-django==4.5.2

[testenv:lint]
commands =
  black --check --diff .
  isort --check-only --diff .
  flake8
deps =
  black==25.1.0
  flake8==7.3.0
  isort==6.0.1

[gh-actions]
python =
  3.7: py37
  3.8: py38
  3.9: py39
  3.10: py310
  3.11: py311
  3.12: py312, lint

[flake8]
max-line-length = 80
max-complexity = 10
